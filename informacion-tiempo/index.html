<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO Meta Tags -->
    <title>Informaci√≥n del Tiempo - Pron√≥stico Meteorol√≥gico Mundial | meskeIA</title>
    <meta name="description" content="¬øQu√© tiempo har√° ma√±ana en tu ciudad? Consulta el pron√≥stico meteorol√≥gico mundial con temperatura, humedad y viento en tiempo real. Simple y preciso.">
    <meta name="keywords" content="el tiempo, pron√≥stico meteorol√≥gico, clima, temperatura, tiempo atmosf√©rico, meteorolog√≠a, condiciones clim√°ticas, weather, pron√≥stico 3 d√≠as, meskeIA">
    <meta name="author" content="meskeIA">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://meskeia.com/informacion-tiempo/">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Informaci√≥n del Tiempo - Pron√≥stico Meteorol√≥gico Mundial | meskeIA">
    <meta property="og:description" content="Consulta el tiempo y pron√≥stico meteorol√≥gico de cualquier ciudad del mundo. Informaci√≥n del clima en tiempo real con datos precisos de temperatura, humedad y viento.">
    <meta property="og:url" content="https://meskeia.com/informacion-tiempo/">
    <meta property="og:image" content="https://meskeia.com/assets/og-weather.png">
    <meta property="og:image:alt" content="Informaci√≥n del Tiempo - Pron√≥stico meteorol√≥gico mundial">
    <meta property="og:site_name" content="meskeIA">
    <meta property="og:locale" content="es_ES">
    
    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Informaci√≥n del Tiempo - Pron√≥stico Meteorol√≥gico Mundial | meskeIA">
    <meta name="twitter:description" content="Consulta el tiempo y pron√≥stico meteorol√≥gico de cualquier ciudad del mundo. Datos precisos de clima en tiempo real.">
    <meta name="twitter:image" content="https://meskeia.com/assets/twitter-weather.png">
    <meta name="twitter:image:alt" content="Informaci√≥n del Tiempo - Pron√≥stico meteorol√≥gico">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="../icon_meskeia.png">
    <link rel="apple-touch-icon" href="../icon_meskeia.png">
    
    <!-- Structured Data - WebApplication -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Informaci√≥n del Tiempo",
        "description": "Aplicaci√≥n web gratuita para consultar el tiempo y pron√≥stico meteorol√≥gico mundial. Obt√©n informaci√≥n actualizada del clima, temperatura, humedad, viento y condiciones atmosf√©ricas en tiempo real.",
        "url": "https://meskeia.com/informacion-tiempo/",
        "image": "https://meskeia.com/assets/og-weather.png",
        "applicationCategory": "Weather",
        "operatingSystem": "Any",
        "browserRequirements": "Requires JavaScript. Requires HTML5.",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "EUR"
        },
        "provider": {
            "@type": "Organization",
            "name": "meskeIA",
            "url": "https://meskeia.com"
        }
    }
    </script>
    
    <!-- Structured Data - FAQPage -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
            {
                "@type": "Question",
                "name": "¬øC√≥mo consultar el tiempo de cualquier ciudad?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Escribe el nombre de la ciudad en el campo de b√∫squeda y presiona Enter o haz clic en el bot√≥n de b√∫squeda. Tambi√©n puedes usar el bot√≥n de geolocalizaci√≥n para obtener el tiempo de tu ubicaci√≥n actual."
                }
            },
            {
                "@type": "Question", 
                "name": "¬øQu√© informaci√≥n meteorol√≥gica proporciona?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Mostramos temperatura actual, sensaci√≥n t√©rmica, humedad, velocidad del viento, presi√≥n atmosf√©rica, visibilidad, √≠ndice UV, punto de roc√≠o, nubosidad, horarios de amanecer y atardecer, m√°s pron√≥stico para los pr√≥ximos 3 d√≠as."
                }
            },
            {
                "@type": "Question",
                "name": "¬øEs gratis consultar el tiempo?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "S√≠, nuestra aplicaci√≥n de informaci√≥n del tiempo es completamente gratuita. No requiere registro, descargas ni pagos. Funciona directamente en tu navegador web."
                }
            },
            {
                "@type": "Question",
                "name": "¬øCon qu√© frecuencia se actualizan los datos?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Los datos se actualizan autom√°ticamente cada 10 minutos y utilizamos la API de OpenWeatherMap que proporciona informaci√≥n meteorol√≥gica en tiempo real y precisa."
                }
            }
        ]
    }
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Paleta Minimalista - meskeIA */
            --bg-primary: #FAFAFA;      /* Background principal */
            --bg-card: #FFFFFF;         /* Cards y contenedores */
            
            /* Identidad meskeIA */
            --primary: #2E86AB;         /* Azul principal */
            --primary-hover: #246b8a;   /* Azul hover */
            
            /* Textos minimalistas */
            --text-primary: #1A1A1A;    /* Negro suave */
            --text-secondary: #666666;  /* Gris medio */
            --text-muted: #999999;      /* Gris claro */
            
            /* Elementos estructurales */
            --border: #E5E5E5;          /* Bordes sutiles */
            --hover: #F5F5F5;           /* Estados hover */
            --shadow-light: 0 1px 3px rgba(0,0,0,0.05);
            --shadow-medium: 0 4px 12px rgba(0,0,0,0.08);
            
            /* Espaciado consistente */
            --radius: 8px;
            --spacing-xs: 0.5rem;
            --spacing-sm: 1rem;
            --spacing-md: 1.5rem;
            --spacing-lg: 2rem;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
        }

        .weather-container {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            box-shadow: var(--shadow-medium);
            padding: var(--spacing-lg);
            width: 400px;
            max-width: 90vw;
            margin: 0 auto;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .weather-container:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.1);
        }

        /* Header con t√≠tulo */
        .weather-header {
            text-align: center;
            margin-bottom: var(--spacing-lg);
            padding-bottom: var(--spacing-md);
            border-bottom: 1px solid var(--border);
        }

        .app-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--spacing-xs);
        }

        .app-subtitle {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Selector de ubicaci√≥n */
        .location-selector {
            margin-bottom: var(--spacing-lg);
            display: flex;
            gap: var(--spacing-xs);
            align-items: center;
        }

        .location-input {
            flex: 1;
            background: var(--bg-primary);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: var(--spacing-xs) var(--spacing-sm);
            color: var(--text-primary);
            font-size: 0.9rem;
            outline: none;
            transition: all 0.2s ease;
        }

        .location-input::placeholder {
            color: var(--text-muted);
        }

        .location-input:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(46, 134, 171, 0.1);
        }

        .location-buttons {
            display: flex;
            gap: var(--spacing-xs);
        }

        .btn {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: var(--spacing-xs) var(--spacing-sm);
            color: var(--text-secondary);
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s ease;
            outline: none;
        }

        .btn:hover {
            background: var(--hover);
            border-color: var(--primary);
            color: var(--primary);
        }

        .btn:active {
            transform: translateY(1px);
        }

        /* Informaci√≥n de ubicaci√≥n */
        .location-header {
            text-align: center;
            margin-bottom: var(--spacing-lg);
        }

        .location-name {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--spacing-xs);
        }

        .current-time {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        /* Clima principal */
        .main-weather {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: var(--spacing-lg);
            padding: var(--spacing-md);
            background: var(--bg-primary);
            border-radius: var(--radius);
            border: 1px solid var(--border);
        }

        .temperature-section {
            flex: 1;
        }

        .temperature {
            font-size: 3rem;
            font-weight: 600;
            line-height: 1;
            color: var(--text-primary);
            margin-bottom: var(--spacing-xs);
        }

        .feels-like {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .weather-icon {
            font-size: 3.5rem;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-8px); }
        }

        .condition-description {
            text-align: center;
            font-size: 1rem;
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: var(--spacing-lg);
            text-transform: capitalize;
            padding: var(--spacing-sm);
            background: var(--bg-primary);
            border-radius: var(--radius);
            border: 1px solid var(--border);
        }

        /* Detalles del clima */
        .weather-details {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-lg);
        }

        .detail-item {
            background: var(--bg-primary);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: var(--spacing-sm);
            text-align: center;
            transition: all 0.2s ease;
        }

        .detail-item:hover {
            background: var(--hover);
            transform: translateY(-1px);
        }

        .detail-icon {
            font-size: 1.2rem;
            margin-bottom: var(--spacing-xs);
            display: block;
        }

        .detail-label {
            font-size: 0.75rem;
            color: var(--text-secondary);
            margin-bottom: 2px;
            font-weight: 500;
        }

        .detail-value {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        /* Horarios de sol */
        .sun-times {
            display: flex;
            justify-content: space-between;
            background: var(--bg-primary);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-lg);
        }

        .sun-item {
            text-align: center;
            flex: 1;
        }

        .sun-icon {
            font-size: 1.5rem;
            margin-bottom: var(--spacing-xs);
            display: block;
        }

        .sun-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-bottom: 2px;
            font-weight: 500;
        }

        .sun-time {
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        /* Pron√≥stico 3 d√≠as */
        .forecast-section {
            margin-bottom: var(--spacing-lg);
        }

        .forecast-title {
            text-align: center;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--spacing-md);
        }

        .forecast-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--spacing-xs);
        }

        .forecast-item {
            background: var(--bg-primary);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: var(--spacing-sm);
            text-align: center;
            transition: all 0.2s ease;
        }

        .forecast-item:hover {
            background: var(--hover);
            transform: translateY(-1px);
        }

        .forecast-day {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-bottom: var(--spacing-xs);
            font-weight: 500;
        }

        .forecast-icon {
            font-size: 1.8rem;
            margin-bottom: var(--spacing-xs);
        }

        .forecast-temps {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .forecast-temps .max-temp {
            color: var(--text-primary);
        }

        .forecast-temps .min-temp {
            color: var(--text-secondary);
            font-weight: 400;
        }

        /* Estados de carga y error */
        .loading, .error {
            text-align: center;
            font-style: italic;
            color: var(--text-secondary);
        }

        .error {
            color: #dc3545;
        }

        /* Atribuci√≥n */
        .attribution {
            text-align: center;
            font-size: 0.7rem;
            color: var(--text-muted);
            margin-top: var(--spacing-md);
            padding-top: var(--spacing-sm);
            border-top: 1px solid var(--border);
        }

        .attribution a {
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
        }

        .attribution a:hover {
            text-decoration: underline;
        }

        /* Logo meskeIA - Componente reutilizable */
        .meskeia-logo-container {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(46, 134, 171, 0.2);
            border-radius: 12px;
            padding: 8px 16px;
            box-shadow: 0 4px 20px rgba(46, 134, 171, 0.1);
            transition: all 0.3s ease;
        }

        .meskeia-logo-container:hover {
            transform: scale(1.02);
            box-shadow: 0 6px 25px rgba(46, 134, 171, 0.15);
        }

        .meskeia-logo-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, #2E86AB 0%, #48A9A6 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .meskeia-logo-icon::before {
            content: '';
            position: absolute;
            width: 12px;
            height: 12px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 50%;
            top: 10px;
            left: 10px;
        }

        .meskeia-logo-icon::after {
            content: '';
            position: absolute;
            width: 6px;
            height: 6px;
            background: #2E86AB;
            border-radius: 50%;
            top: 13px;
            left: 13px;
        }

        .meskeia-neural-network {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0.3;
        }

        .meskeia-neural-dot {
            position: absolute;
            width: 2px;
            height: 2px;
            background: white;
            border-radius: 50%;
        }

        .meskeia-neural-dot:nth-child(1) { top: 4px; left: 6px; }
        .meskeia-neural-dot:nth-child(2) { top: 8px; right: 5px; }
        .meskeia-neural-dot:nth-child(3) { bottom: 6px; left: 4px; }
        .meskeia-neural-dot:nth-child(4) { bottom: 4px; right: 8px; }

        .meskeia-logo-text {
            font-size: 1.2rem;
            font-weight: 600;
            color: #2C3E50;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .meskeia-logo-text .meske {
            color: #2E86AB;
        }

        .meskeia-logo-text .ia {
            color: #48A9A6;
            font-weight: 700;
            position: relative;
        }

        .meskeia-logo-text .ia::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, #48A9A6, #7FB3D3);
            border-radius: 1px;
        }

        /* Responsive */
        @media (max-width: 480px) {
            .weather-container {
                padding: var(--spacing-md);
                width: 100%;
                margin: 10px;
            }
            
            .temperature {
                font-size: 2.5rem;
            }
            
            .weather-icon {
                font-size: 3rem;
            }
            
            .weather-details {
                grid-template-columns: 1fr;
                gap: var(--spacing-xs);
            }

            .location-selector {
                flex-direction: column;
                gap: var(--spacing-xs);
            }

            .location-buttons {
                width: 100%;
                justify-content: space-between;
            }

            .forecast-container {
                grid-template-columns: 1fr;
                gap: var(--spacing-xs);
            }

            .forecast-item {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: var(--spacing-xs) var(--spacing-sm);
            }

            .forecast-icon {
                font-size: 1.5rem;
                margin: 0;
            }

            .forecast-day, .forecast-temps {
                margin: 0;
            }

            .meskeia-logo-container {
                top: 10px;
                left: 10px;
                padding: 6px 12px;
                gap: 8px;
            }
            
            .meskeia-logo-icon {
                width: 24px;
                height: 24px;
            }
            
            .meskeia-logo-icon::before {
                width: 9px;
                height: 9px;
                top: 7.5px;
                left: 7.5px;
            }
            
            .meskeia-logo-icon::after {
                width: 4px;
                height: 4px;
                top: 10px;
                left: 10px;
            }
            
            .meskeia-logo-text {
                font-size: 1rem;
            }
        }

        /* Animaciones sutiles */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .weather-container {
            animation: fadeInUp 0.4s ease forwards;
        }

        /* SEO Content Styles */
        .main-app-wrapper {
            width: 100%;
            max-width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 80px;
        }

        .seo-content {
            max-width: 1200px;
            margin: 4rem auto 0;
            padding: 0 20px;
        }

        .seo-content section {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-lg);
            box-shadow: var(--shadow-medium);
        }

        .seo-content h2 {
            color: var(--primary);
            font-size: 2rem;
            font-weight: 600;
            text-align: center;
            margin-bottom: var(--spacing-lg);
            position: relative;
        }

        .seo-content h2::after {
            content: '';
            position: absolute;
            bottom: -0.5rem;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), #48A9A6);
            border-radius: 2px;
        }

        .seo-content h3 {
            color: var(--primary);
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: var(--spacing-md);
            margin-top: var(--spacing-lg);
        }

        .seo-content h4 {
            color: var(--text-primary);
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: var(--spacing-xs);
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
        }

        .guide-section, .science-item, .faq-item, .safety-item, .activity-category {
            margin-bottom: var(--spacing-lg);
        }

        .guide-section:last-child, .science-item:last-child, .faq-item:last-child, .safety-item:last-child, .activity-category:last-child {
            margin-bottom: 0;
        }

        .seo-content p {
            color: var(--text-secondary);
            line-height: 1.7;
            margin-bottom: var(--spacing-sm);
        }

        .seo-content strong {
            color: var(--primary);
            font-weight: 600;
        }

        .seo-content ul {
            color: var(--text-secondary);
            line-height: 1.6;
            margin-left: 1.5rem;
        }

        .seo-content li {
            margin-bottom: 0.5rem;
        }

        /* Grid Layouts for SEO Content */
        .weather-params-grid, .forecast-tips, .science-grid, .safety-grid, .activities-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--spacing-md);
            margin-top: var(--spacing-md);
        }

        .weather-param, .tip, .science-item, .safety-item, .activity-category {
            background: var(--hover);
            padding: var(--spacing-md);
            border-radius: var(--radius);
            border: 1px solid var(--border);
            transition: all 0.3s ease;
        }

        .weather-param:hover, .tip:hover, .science-item:hover, .safety-item:hover, .activity-category:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-medium);
            border-color: var(--primary);
        }

        /* FAQ Specific Styles */
        .faq-item {
            background: var(--hover);
            padding: var(--spacing-md);
            border-radius: var(--radius);
            border: 1px solid var(--border);
            transition: all 0.3s ease;
        }

        .faq-item:hover {
            transform: translateY(-1px);
            box-shadow: var(--shadow-light);
        }

        .faq-item h3 {
            color: var(--primary);
            margin-top: 0;
            font-size: 1.2rem;
        }

        /* Responsive for SEO Content */
        @media (max-width: 768px) {
            .main-app-wrapper {
                padding: 70px 15px 60px;
            }

            .seo-content {
                margin-top: var(--spacing-lg);
                padding: 0;
            }

            .seo-content section {
                padding: var(--spacing-md);
                margin-bottom: var(--spacing-md);
                border-radius: 12px;
            }

            .seo-content h2 {
                font-size: 1.6rem;
                margin-bottom: var(--spacing-md);
            }

            .seo-content h3 {
                font-size: 1.2rem;
            }

            .seo-content h4 {
                font-size: 1rem;
            }

            .weather-params-grid, .forecast-tips, .science-grid, .safety-grid, .activities-grid {
                grid-template-columns: 1fr;
                gap: var(--spacing-sm);
            }

            .weather-param, .tip, .science-item, .safety-item, .activity-category, .faq-item {
                padding: var(--spacing-sm);
            }
        }

        @media (max-width: 480px) {
            .seo-content h2 {
                font-size: 1.4rem;
            }

            .seo-content h3 {
                font-size: 1.1rem;
            }

            .seo-content h4 {
                font-size: 0.95rem;
            }

            .seo-content section {
                padding: var(--spacing-sm);
            }
        }
    </style>
</head>
<body>

<!-- Logo meskeIA -->
<div class="meskeia-logo-container" onclick="window.location.href='../index.html'" style="cursor: pointer;">
    <div class="meskeia-logo-icon">
        <div class="meskeia-neural-network">
            <div class="meskeia-neural-dot"></div>
            <div class="meskeia-neural-dot"></div>
            <div class="meskeia-neural-dot"></div>
            <div class="meskeia-neural-dot"></div>
        </div>
    </div>
    <div class="meskeia-logo-text">
        <span class="meske">meske</span><span class="ia">IA</span>
    </div>
</div>

<div class="main-app-wrapper">
    <div class="weather-container" id="weatherContainer">
    <!-- Header de la aplicaci√≥n -->
    <div class="weather-header">
        <h1 class="app-title">Informaci√≥n del Tiempo</h1>
        <p class="app-subtitle">Pron√≥stico meteorol√≥gico preciso</p>
    </div>

    <!-- Selector de ubicaci√≥n -->
    <div class="location-selector">
        <input type="text" 
               id="cityInput" 
               class="location-input" 
               placeholder="Buscar ciudad..."
               onkeypress="handleEnterKey(event)">
        <div class="location-buttons">
            <button class="btn" onclick="searchCity()" title="Buscar ciudad">üîç</button>
            <button class="btn" onclick="getCurrentLocation()" title="Mi ubicaci√≥n">üìç</button>
        </div>
    </div>

    <div class="location-header">
        <div class="location-name" id="locationName">Obteniendo ubicaci√≥n...</div>
        <div class="current-time" id="currentTime">Cargando...</div>
    </div>

    <div class="main-weather">
        <div class="temperature-section">
            <div class="temperature" id="temperature">--¬∞</div>
            <div class="feels-like" id="feelsLike">Sensaci√≥n: --¬∞</div>
        </div>
        <div class="weather-icon" id="weatherIcon">‚è≥</div>
    </div>

    <div class="condition-description" id="condition">Obteniendo datos meteorol√≥gicos...</div>

    <div class="weather-details">
        <div class="detail-item">
            <span class="detail-icon">üíß</span>
            <div class="detail-label">Humedad</div>
            <div class="detail-value" id="humidity">--%</div>
        </div>
        <div class="detail-item">
            <span class="detail-icon">üí®</span>
            <div class="detail-label">Viento</div>
            <div class="detail-value" id="windSpeed">-- m/s</div>
        </div>
        <div class="detail-item">
            <span class="detail-icon">üìΩ</span>
            <div class="detail-label">Presi√≥n</div>
            <div class="detail-value" id="pressure">-- hPa</div>
        </div>
        <div class="detail-item">
            <span class="detail-icon">üëÅÔ∏è</span>
            <div class="detail-label">Visibilidad</div>
            <div class="detail-value" id="visibility">-- km</div>
        </div>
        <div class="detail-item">
            <span class="detail-icon">‚òÄÔ∏è</span>
            <div class="detail-label">√çndice UV</div>
            <div class="detail-value" id="uvIndex">--</div>
        </div>
        <div class="detail-item">
            <span class="detail-icon">üíé</span>
            <div class="detail-label">Punto roc√≠o</div>
            <div class="detail-value" id="dewPoint">--¬∞</div>
        </div>
        <div class="detail-item">
            <span class="detail-icon">‚òÅÔ∏è</span>
            <div class="detail-label">Nubosidad</div>
            <div class="detail-value" id="cloudiness">--%</div>
        </div>
        <div class="detail-item">
            <span class="detail-icon">üí®</span>
            <div class="detail-label">R√°fagas</div>
            <div class="detail-value" id="windGust">-- m/s</div>
        </div>
    </div>

    <div class="sun-times">
        <div class="sun-item">
            <span class="sun-icon">üåÖ</span>
            <div class="sun-label">Amanecer</div>
            <div class="sun-time" id="sunrise">--:--</div>
        </div>
        <div class="sun-item">
            <span class="sun-icon">üåá</span>
            <div class="sun-label">Atardecer</div>
            <div class="sun-time" id="sunset">--:--</div>
        </div>
    </div>

    <!-- Pron√≥stico 3 d√≠as -->
    <div class="forecast-section">
        <div class="forecast-title">üìÖ Pr√≥ximos 3 d√≠as</div>
        <div class="forecast-container" id="forecastContainer">
            <div class="forecast-item">
                <div class="forecast-day">Cargando...</div>
                <div class="forecast-icon">‚è≥</div>
                <div class="forecast-temps">--¬∞/--¬∞</div>
            </div>
            <div class="forecast-item">
                <div class="forecast-day">Cargando...</div>
                <div class="forecast-icon">‚è≥</div>
                <div class="forecast-temps">--¬∞/--¬∞</div>
            </div>
            <div class="forecast-item">
                <div class="forecast-day">Cargando...</div>
                <div class="forecast-icon">‚è≥</div>
                <div class="forecast-temps">--¬∞/--¬∞</div>
            </div>
        </div>
    </div>

    <div class="attribution">
        Datos proporcionados por <a href="https://openweathermap.org" target="_blank">OpenWeatherMap</a>
    </div>
    </div>
    
    <!-- SEO Content -->
    <div class="seo-content">
        <section class="weather-guide">
            <h2>Gu√≠a Completa de Informaci√≥n Meteorol√≥gica</h2>
            
            <div class="guide-section">
                <h3>¬øQu√© es la Meteorolog√≠a?</h3>
                <p>La <strong>meteorolog√≠a</strong> es la ciencia que estudia los fen√≥menos atmosf√©ricos y las condiciones del tiempo. Nuestra aplicaci√≥n utiliza datos meteorol√≥gicos en tiempo real para proporcionarte informaci√≥n precisa sobre el clima de cualquier ciudad del mundo.</p>
            </div>
            
            <div class="guide-section">
                <h3>Datos Meteorol√≥gicos que Proporcionamos</h3>
                <div class="weather-params-grid">
                    <div class="weather-param">
                        <h4>üå°Ô∏è Temperatura y Sensaci√≥n T√©rmica</h4>
                        <p><strong>Temperatura actual</strong> medida en grados Celsius y <strong>sensaci√≥n t√©rmica</strong> que considera factores como humedad y viento para determinar c√≥mo se siente realmente la temperatura.</p>
                    </div>
                    
                    <div class="weather-param">
                        <h4>üíß Humedad Relativa</h4>
                        <p>Porcentaje de vapor de agua en el aire. Una <strong>humedad alta</strong> (>70%) puede hacer que las temperaturas se sientan m√°s c√°lidas, mientras que la <strong>humedad baja</strong> (<30%) puede causar sequedad.</p>
                    </div>
                    
                    <div class="weather-param">
                        <h4>üí® Viento y R√°fagas</h4>
                        <p><strong>Velocidad del viento</strong> en metros por segundo y direcci√≥n. Las <strong>r√°fagas</strong> son aumentos temporales de la velocidad que pueden afectar actividades al aire libre.</p>
                    </div>
                    
                    <div class="weather-param">
                        <h4>üìΩ Presi√≥n Atmosf√©rica</h4>
                        <p>Medida en hectopascales (hPa). Una <strong>presi√≥n alta</strong> (>1020 hPa) generalmente indica buen tiempo, mientras que <strong>presi√≥n baja</strong> (<1010 hPa) puede indicar mal tiempo.</p>
                    </div>
                    
                    <div class="weather-param">
                        <h4>üëÅÔ∏è Visibilidad</h4>
                        <p>Distancia m√°xima a la que se pueden distinguir objetos claramente. La <strong>visibilidad reducida</strong> puede deberse a niebla, lluvia intensa o contaminaci√≥n atmosf√©rica.</p>
                    </div>
                    
                    <div class="weather-param">
                        <h4>‚òÄÔ∏è √çndice UV</h4>
                        <p>Escala de <strong>radiaci√≥n ultravioleta</strong>. UV 0-2 es bajo, 3-5 moderado, 6-7 alto, 8-10 muy alto, y 11+ extremo. Importante para protecci√≥n solar.</p>
                    </div>
                    
                    <div class="weather-param">
                        <h4>üíé Punto de Roc√≠o</h4>
                        <p>Temperatura a la cual el aire se satura y se forma roc√≠o. Un <strong>punto de roc√≠o alto</strong> indica mayor humedad y sensaci√≥n de bochorno.</p>
                    </div>
                    
                    <div class="weather-param">
                        <h4>‚òÅÔ∏è Nubosidad</h4>
                        <p>Porcentaje del cielo cubierto por nubes. 0% es cielo despejado, 25% pocas nubes, 50% parcialmente nublado, 75% muy nublado, y 100% completamente cubierto.</p>
                    </div>
                </div>
            </div>
            
            <div class="guide-section">
                <h3>C√≥mo Interpretar el Pron√≥stico</h3>
                <div class="forecast-tips">
                    <div class="tip">
                        <h4>üéØ Precisi√≥n del Pron√≥stico</h4>
                        <p>Los pron√≥sticos son m√°s precisos para los primeros 3 d√≠as. La precisi√≥n disminuye gradualmente: d√≠a 1 (95%), d√≠a 2 (85%), d√≠a 3 (70%).</p>
                    </div>
                    
                    <div class="tip">
                        <h4>üå°Ô∏è Temperaturas M√°ximas y M√≠nimas</h4>
                        <p>La <strong>temperatura m√°xima</strong> suele ocurrir entre 14:00-16:00 horas, mientras que la <strong>m√≠nima</strong> se registra al amanecer (06:00-08:00 horas).</p>
                    </div>
                    
                    <div class="tip">
                        <h4>üå¶Ô∏è Probabilidad de Precipitaci√≥n</h4>
                        <p>Los iconos indican condiciones dominantes. Siempre verifica la humedad y nubosidad para entender mejor la probabilidad de lluvia.</p>
                    </div>
                    
                    <div class="tip">
                        <h4>üåÖ Horarios Solares</h4>
                        <p>Los horarios de <strong>amanecer y atardecer</strong> var√≠an seg√∫n la latitud y √©poca del a√±o. √ötiles para planificar actividades al aire libre.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <section class="weather-science">
            <h2>La Ciencia Detr√°s del Clima</h2>
            
            <div class="science-grid">
                <div class="science-item">
                    <h3>üåç Sistema Meteorol√≥gico Global</h3>
                    <p>El clima terrestre es un <strong>sistema complejo</strong> influenciado por la rotaci√≥n de la Tierra, diferencias de temperatura entre polos y ecuador, masas de agua y corrientes oce√°nicas.</p>
                </div>
                
                <div class="science-item">
                    <h3>üì° Tecnolog√≠a de Predicci√≥n</h3>
                    <p>Los pron√≥sticos modernos utilizan <strong>modelos matem√°ticos</strong> que procesan datos de sat√©lites, estaciones meteorol√≥gicas, radiosondas y boyas oce√°nicas.</p>
                </div>
                
                <div class="science-item">
                    <h3>üåä Influencias Oce√°nicas</h3>
                    <p>Los oc√©anos act√∫an como <strong>reguladores t√©rmicos</strong>. Las corrientes marinas transportan calor y humedad, influyendo significativamente en el clima regional.</p>
                </div>
                
                <div class="science-item">
                    <h3>üèîÔ∏è Efectos Topogr√°ficos</h3>
                    <p>Las monta√±as, valles y costas crean <strong>microclimas √∫nicos</strong>. La altitud reduce la temperatura ~6.5¬∞C cada 1000m de elevaci√≥n.</p>
                </div>
            </div>
        </section>
        
        <section class="faq-section">
            <h2>Preguntas Frecuentes sobre el Tiempo</h2>
            
            <!-- Estilos para elementos desplegables -->
            <style>
                details {
                    border: 1px solid var(--border);
                    border-radius: 8px;
                    padding: 1rem;
                    margin-bottom: 1rem;
                    background: var(--hover);
                    transition: all 0.3s ease;
                }
                
                details:hover {
                    border-color: var(--primary);
                    box-shadow: 0 2px 8px rgba(46, 134, 171, 0.1);
                }
                
                details[open] {
                    background: var(--bg-card);
                    border-color: var(--primary);
                }
                
                summary {
                    font-weight: 600;
                    color: var(--text-primary);
                    cursor: pointer;
                    margin-bottom: 0.5rem;
                    padding: 0.25rem 0;
                    user-select: none;
                    outline: none;
                    position: relative;
                }
                
                summary {
                    list-style: none;
                }
                
                summary::-webkit-details-marker {
                    display: none;
                }
                
                summary::-moz-list-bullet {
                    list-style-type: none;
                }
                
                summary::before {
                    content: '‚ñ∂';
                    margin-right: 0.5rem;
                    transition: transform 0.2s ease;
                    display: inline-block;
                    font-size: 0.8rem;
                    color: var(--primary);
                }
                
                details[open] summary::before {
                    transform: rotate(90deg);
                }
                
                details p {
                    margin-bottom: 0;
                    padding-top: 0.5rem;
                }
            </style>
            
            <details>
                <summary>¬øPor qu√© a veces el pron√≥stico no es exacto?</summary>
                <p>La atm√≥sfera es un sistema ca√≥tico donde peque√±os cambios pueden tener grandes efectos. Los meteor√≥logos usan modelos probabil√≠sticos y m√∫ltiples escenarios para dar el pron√≥stico m√°s preciso posible, pero la naturaleza impredecible del clima hace que no sea 100% exacto.</p>
            </details>
            
            <details>
                <summary>¬øQu√© significa "sensaci√≥n t√©rmica"?</summary>
                <p>La sensaci√≥n t√©rmica combina temperatura, humedad y velocidad del viento para calcular c√≥mo percibe el cuerpo humano la temperatura. Con viento fuerte puede sentirse m√°s fr√≠o, y con alta humedad puede sentirse m√°s calor del que marca el term√≥metro.</p>
            </details>
            
            <details>
                <summary>¬øC√≥mo se mide el √≠ndice UV?</summary>
                <p>El √≠ndice UV mide la intensidad de radiaci√≥n ultravioleta del sol. Se calcula considerando la posici√≥n solar, nubosidad, altitud y ozono atmosf√©rico. Es esencial para determinar el tiempo seguro de exposici√≥n solar sin protecci√≥n.</p>
            </details>
            
            <details>
                <summary>¬øPor qu√© var√≠a tanto el tiempo en mi ciudad?</summary>
                <p>El tiempo local puede cambiar r√°pidamente debido a frentes meteorol√≥gicos, tormentas, efectos urbanos (islas de calor), proximidad al mar o monta√±as, y patrones de viento regional. Las ciudades grandes pueden tener variaciones significativas entre diferentes barrios.</p>
            </details>
            
            <details>
                <summary>¬øCu√°ndo es m√°s confiable el pron√≥stico?</summary>
                <p>El pron√≥stico es m√°s confiable durante situaciones de alta presi√≥n estable. Es menos preciso durante sistemas meteorol√≥gicos en r√°pido cambio, como frentes fr√≠os, tormentas severas o situaciones de transici√≥n estacional.</p>
            </details>
        </section>
        
        <section class="weather-safety">
            <h2>Seguridad y Recomendaciones Meteorol√≥gicas</h2>
            
            <div class="safety-grid">
                <div class="safety-item">
                    <h3>‚òÄÔ∏è Exposici√≥n Solar</h3>
                    <p><strong>√çndice UV 0-2:</strong> M√≠nimo riesgo<br>
                    <strong>√çndice UV 3-7:</strong> Usar protector solar<br>
                    <strong>√çndice UV 8+:</strong> Protecci√≥n extra necesaria, evitar exposici√≥n 10am-4pm</p>
                </div>
                
                <div class="safety-item">
                    <h3>üå°Ô∏è Temperaturas Extremas</h3>
                    <p><strong>Calor extremo (>35¬∞C):</strong> Hidratarse frecuentemente, evitar actividad f√≠sica intensa<br>
                    <strong>Fr√≠o intenso (<0¬∞C):</strong> Vestirse en capas, proteger extremidades</p>
                </div>
                
                <div class="safety-item">
                    <h3>üí® Viento Fuerte</h3>
                    <p><strong>15-25 m/s:</strong> Dificultad para caminar<br>
                    <strong>25+ m/s:</strong> Peligroso, evitar actividades al aire libre<br>
                    Asegurar objetos que puedan volar</p>
                </div>
                
                <div class="safety-item">
                    <h3>üåßÔ∏è Condiciones de Lluvia</h3>
                    <p><strong>Lluvia intensa:</strong> Reducir velocidad al conducir<br>
                    <strong>Visibilidad <1km:</strong> Extremar precauciones<br>
                    Evitar zonas propensas a inundaci√≥n</p>
                </div>
            </div>
        </section>
        
        <section class="weather-activities">
            <h2>Actividades Seg√∫n el Clima</h2>
            
            <div class="activities-grid">
                <div class="activity-category">
                    <h3>üåû Clima Soleado (Despejado, <30¬∞C)</h3>
                    <ul>
                        <li>Senderismo y actividades al aire libre</li>
                        <li>Picnics y barbacoas</li>
                        <li>Deportes acu√°ticos y playa</li>
                        <li>Ciclismo y running matutino</li>
                        <li>Fotograf√≠a de paisajes</li>
                    </ul>
                </div>
                
                <div class="activity-category">
                    <h3>‚õÖ Parcialmente Nublado</h3>
                    <ul>
                        <li>Caminatas urbanas</li>
                        <li>Visitas a parques y jardines</li>
                        <li>Actividades deportivas ligeras</li>
                        <li>Turismo y sightseeing</li>
                        <li>Actividades de jardiner√≠a</li>
                    </ul>
                </div>
                
                <div class="activity-category">
                    <h3>üåßÔ∏è Lluvia Ligera</h3>
                    <ul>
                        <li>Visitas a museos y galer√≠as</li>
                        <li>Lectura en cafeter√≠as</li>
                        <li>Cine y espect√°culos</li>
                        <li>Actividades de interior</li>
                        <li>Spa y relajaci√≥n</li>
                    </ul>
                </div>
                
                <div class="activity-category">
                    <h3>‚ùÑÔ∏è Clima Fr√≠o (<10¬∞C)</h3>
                    <ul>
                        <li>Deportes de invierno</li>
                        <li>Observaci√≥n de aves</li>
                        <li>Fotograf√≠a invernal</li>
                        <li>Actividades culturales indoor</li>
                        <li>Cocina casera y reposter√≠a</li>
                    </ul>
                </div>
            </div>
        </section>
    </div>
</div>

<script>
    // API key
    const apiKey = 'c365c29eb6cdef0c6c36b240e47e4c4a';
    let currentLocation = { name: 'Matar√≥', lat: null, lon: null };

    // Funci√≥n para actualizar el tiempo actual
    function updateCurrentTime() {
        const now = new Date();
        const options = {
            weekday: 'long',
            year: 'numeric',
            month: 'long',
            day: 'numeric',
            hour: '2-digit',
            minute: '2-digit'
        };
        document.getElementById('currentTime').textContent = now.toLocaleDateString('es-ES', options);
    }

    // Funci√≥n para formatear tiempo Unix a HH:MM
    function formatTime(unixTime) {
        const date = new Date(unixTime * 1000);
        return date.toLocaleTimeString('es-ES', { hour: '2-digit', minute: '2-digit' });
    }

    // Funci√≥n para obtener el icono del viento
    function getWindDirection(degrees) {
        const directions = ['N', 'NE', 'E', 'SE', 'S', 'SO', 'O', 'NO'];
        const index = Math.round(degrees / 45) % 8;
        return directions[index];
    }

    // Funci√≥n para calcular punto de roc√≠o
    function calculateDewPoint(temp, humidity) {
        const a = 17.27;
        const b = 237.7;
        const alpha = ((a * temp) / (b + temp)) + Math.log(humidity / 100.0);
        const dewPoint = (b * alpha) / (a - alpha);
        return Math.round(dewPoint);
    }

    // Funci√≥n para obtener emoji para condiciones meteorol√≥gicas
    function getWeatherEmoji(iconCode) {
        switch (true) {
            case iconCode.includes('01d'): return '‚òÄÔ∏è';
            case iconCode.includes('01n'): return 'üåô';
            case iconCode.includes('02d'): return '‚õÖ';
            case iconCode.includes('02n'): return '‚òÅÔ∏è';
            case iconCode.includes('03') || iconCode.includes('04'): return '‚òÅÔ∏è';
            case iconCode.includes('09'): return 'üå¶Ô∏è';
            case iconCode.includes('10d'): return 'üå¶Ô∏è';
            case iconCode.includes('10n'): return 'üåßÔ∏è';
            case iconCode.includes('11'): return '‚õàÔ∏è';
            case iconCode.includes('13'): return '‚ùÑÔ∏è';
            case iconCode.includes('50'): return 'üå´Ô∏è';
            default: return 'üå§Ô∏è';
        }
    }

    // Funci√≥n para procesar datos del pron√≥stico de 3 d√≠as
    function processForecastData(forecastData) {
        if (!forecastData || !forecastData.list) return null;

        const dailyData = {};
        const today = new Date();
        
        // Procesar datos de pron√≥stico (cada 3 horas)
        forecastData.list.forEach(item => {
            const date = new Date(item.dt * 1000);
            const dateKey = date.toDateString();
            
            // Solo pr√≥ximos 3 d√≠as (excluyendo hoy)
            if (date.getDate() !== today.getDate()) {
                if (!dailyData[dateKey]) {
                    dailyData[dateKey] = {
                        date: date,
                        temps: [],
                        conditions: [],
                        icons: []
                    };
                }
                
                dailyData[dateKey].temps.push(item.main.temp);
                dailyData[dateKey].conditions.push(item.weather[0].description);
                dailyData[dateKey].icons.push(item.weather[0].icon);
            }
        });

        // Convertir a array y tomar solo 3 d√≠as
        const days = Object.values(dailyData).slice(0, 3);
        
        return days.map(day => ({
            dayName: day.date.toLocaleDateString('es-ES', { weekday: 'short' }),
            maxTemp: Math.round(Math.max(...day.temps)),
            minTemp: Math.round(Math.min(...day.temps)),
            icon: getWeatherEmoji(day.icons[Math.floor(day.icons.length / 2)]) // Icono del mediod√≠a aproximado
        }));
    }

    // Funci√≥n para actualizar visualizaci√≥n del pron√≥stico
    function updateForecastDisplay(forecast) {
        try {
            const forecastContainer = document.getElementById('forecastContainer');
            
            if (!forecast || forecast.length === 0) {
                forecastContainer.innerHTML = `
                    <div class="forecast-item" style="grid-column: 1 / -1;">
                        <div style="opacity: 0.7;">Pron√≥stico no disponible</div>
                    </div>
                `;
                return;
            }

            // Actualizar cada d√≠a del pron√≥stico
            const forecastItems = forecastContainer.children;
            forecast.forEach((day, index) => {
                if (index < forecastItems.length) {
                    const item = forecastItems[index];
                    const dayElement = item.querySelector('.forecast-day');
                    const iconElement = item.querySelector('.forecast-icon');
                    const tempsElement = item.querySelector('.forecast-temps');
                    
                    if (dayElement) dayElement.textContent = day.dayName;
                    if (iconElement) iconElement.textContent = day.icon;
                    if (tempsElement) {
                        tempsElement.innerHTML = 
                            `<span class="max-temp">${day.maxTemp}¬∞</span>/<span class="min-temp">${day.minTemp}¬∞</span>`;
                    }
                }
            });
        } catch (error) {
            console.error('Error al actualizar pron√≥stico:', error);
        }
    }

    // Funci√≥n para mostrar datos del clima
    function displayWeatherData(weatherData, uvIndex, forecastData) {
        try {
            // Actualizar ubicaci√≥n actual
            currentLocation.name = weatherData.name;
            currentLocation.lat = weatherData.coord.lat;
            currentLocation.lon = weatherData.coord.lon;
            
            const country = weatherData.sys.country;
            document.getElementById('locationName').textContent = `${weatherData.name}, ${country}`;

            // Limpiar input de b√∫squeda
            document.getElementById('cityInput').value = '';

            // Temperatura y sensaci√≥n t√©rmica
            const temperature = Math.round(weatherData.main.temp);
            const feelsLike = Math.round(weatherData.main.feels_like);
            const condition = weatherData.weather[0].description;
            const iconCode = weatherData.weather[0].icon;

            // Datos adicionales
            const humidity = weatherData.main.humidity;
            const windSpeed = weatherData.wind ? weatherData.wind.speed : 0;
            const windGust = weatherData.wind && weatherData.wind.gust ? weatherData.wind.gust : windSpeed;
            const windDirection = weatherData.wind ? getWindDirection(weatherData.wind.deg) : '';
            const pressure = weatherData.main.pressure;
            const visibility = weatherData.visibility ? (weatherData.visibility / 1000).toFixed(1) : 'N/A';
            const cloudiness = weatherData.clouds ? weatherData.clouds.all : 0;
            const dewPoint = calculateDewPoint(temperature, humidity);
            const sunrise = formatTime(weatherData.sys.sunrise);
            const sunset = formatTime(weatherData.sys.sunset);

            // Actualizar elementos del DOM
            document.getElementById('temperature').textContent = `${temperature}¬∞`;
            document.getElementById('feelsLike').textContent = `Sensaci√≥n: ${feelsLike}¬∞C`;
            document.getElementById('condition').textContent = condition.charAt(0).toUpperCase() + condition.slice(1);
            document.getElementById('humidity').textContent = `${humidity}%`;
            document.getElementById('windSpeed').textContent = `${windSpeed.toFixed(1)} m/s ${windDirection}`;
            document.getElementById('pressure').textContent = `${pressure} hPa`;
            document.getElementById('visibility').textContent = visibility !== 'N/A' ? `${visibility} km` : 'N/A';
            document.getElementById('uvIndex').textContent = uvIndex;
            document.getElementById('dewPoint').textContent = `${dewPoint}¬∞C`;
            document.getElementById('cloudiness').textContent = `${cloudiness}%`;
            document.getElementById('windGust').textContent = `${windGust.toFixed(1)} m/s`;
            document.getElementById('sunrise').textContent = sunrise;
            document.getElementById('sunset').textContent = sunset;

            // Icono del clima actual
            document.getElementById('weatherIcon').textContent = getWeatherEmoji(iconCode);

            // Actualizar pron√≥stico de 3 d√≠as
            const forecast = processForecastData(forecastData);
            updateForecastDisplay(forecast);

            document.getElementById('weatherContainer').classList.remove('error');
            
        } catch (error) {
            console.error('Error al mostrar datos:', error);
            showError('Error al mostrar los datos meteorol√≥gicos');
        }
    }

    // Funci√≥n para obtener ubicaci√≥n actual del navegador
    function getCurrentLocation() {
        document.getElementById('condition').textContent = 'Obteniendo tu ubicaci√≥n...';
        
        if (!navigator.geolocation) {
            showError('Tu navegador no soporta geolocalizaci√≥n');
            return;
        }

        navigator.geolocation.getCurrentPosition(
            position => {
                currentLocation.lat = position.coords.latitude;
                currentLocation.lon = position.coords.longitude;
                getWeatherByCoords(currentLocation.lat, currentLocation.lon);
            },
            error => {
                console.error('Error de geolocalizaci√≥n:', error);
                let errorMsg = 'No se pudo obtener tu ubicaci√≥n';
                switch(error.code) {
                    case error.PERMISSION_DENIED:
                        errorMsg = 'Acceso a ubicaci√≥n denegado';
                        break;
                    case error.POSITION_UNAVAILABLE:
                        errorMsg = 'Ubicaci√≥n no disponible';
                        break;
                    case error.TIMEOUT:
                        errorMsg = 'Tiempo de espera agotado';
                        break;
                }
                showError(errorMsg);
                // Fallback a Matar√≥ por defecto
                getWeatherByCity('Matar√≥,ES');
            },
            {
                enableHighAccuracy: true,
                timeout: 10000,
                maximumAge: 300000 // 5 minutos
            }
        );
    }

    // Funci√≥n para buscar ciudad por nombre
    function searchCity() {
        const cityName = document.getElementById('cityInput').value.trim();
        if (cityName) {
            getWeatherByCity(cityName);
        }
    }

    // Funci√≥n para manejar Enter en el input
    function handleEnterKey(event) {
        if (event.key === 'Enter') {
            searchCity();
        }
    }

    // Funci√≥n para obtener clima por coordenadas
    async function getWeatherByCoords(lat, lon) {
        const weatherUrl = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${apiKey}&units=metric&lang=es`;
        const uvUrl = `https://api.openweathermap.org/data/2.5/uvi?lat=${lat}&lon=${lon}&appid=${apiKey}`;
        const forecastUrl = `https://api.openweathermap.org/data/2.5/forecast?lat=${lat}&lon=${lon}&appid=${apiKey}&units=metric&lang=es`;
        await fetchWeatherData(weatherUrl, uvUrl, forecastUrl);
    }

    // Funci√≥n para obtener clima por nombre de ciudad
    async function getWeatherByCity(cityName) {
        try {
            const weatherUrl = `https://api.openweathermap.org/data/2.5/weather?q=${encodeURIComponent(cityName)}&appid=${apiKey}&units=metric&lang=es`;
            
            const response = await fetch(weatherUrl);
            if (!response.ok) {
                throw new Error(response.status === 404 ? 'Ciudad no encontrada' : `Error HTTP: ${response.status}`);
            }
            
            const weatherData = await response.json();
            const lat = weatherData.coord.lat;
            const lon = weatherData.coord.lon;
            
            const uvUrl = `https://api.openweathermap.org/data/2.5/uvi?lat=${lat}&lon=${lon}&appid=${apiKey}`;
            const forecastUrl = `https://api.openweathermap.org/data/2.5/forecast?lat=${lat}&lon=${lon}&appid=${apiKey}&units=metric&lang=es`;
            await fetchWeatherDataWithData(weatherData, uvUrl, forecastUrl);
            
        } catch (error) {
            console.error('Error en b√∫squeda de ciudad:', error);
            showError(error.message);
        }
    }

    // Funci√≥n principal para obtener datos del clima
    async function fetchWeatherData(weatherUrl, uvUrl = null, forecastUrl = null) {
        try {
            updateCurrentTime();

            const controller = new AbortController();
            const timeoutId = setTimeout(() => controller.abort(), 15000);

            console.log('Obteniendo datos meteorol√≥gicos...');
            
            const weatherResponse = await fetch(weatherUrl, {
                method: 'GET',
                signal: controller.signal,
                cache: 'no-cache'
            });

            if (!weatherResponse.ok) {
                if (weatherResponse.status === 404) {
                    throw new Error('Ciudad no encontrada');
                }
                throw new Error(`Error HTTP: ${weatherResponse.status} - ${weatherResponse.statusText}`);
            }

            const weatherData = await weatherResponse.json();
            console.log('Datos meteorol√≥gicos recibidos:', weatherData);

            if (!weatherData.main || !weatherData.weather || !weatherData.weather[0]) {
                throw new Error('Datos meteorol√≥gicos incompletos');
            }

            // Obtener datos UV
            let uvIndex = 'N/A';
            if (uvUrl) {
                try {
                    console.log('Obteniendo datos UV...');
                    const uvResponse = await fetch(uvUrl, {
                        method: 'GET',
                        signal: controller.signal,
                        cache: 'no-cache'
                    });
                    
                    if (uvResponse.ok) {
                        const uvData = await uvResponse.json();
                        uvIndex = Math.round(uvData.value || 0);
                        console.log('Datos UV recibidos:', uvData);
                    }
                } catch (uvError) {
                    console.warn('Error al obtener UV:', uvError.message);
                }
            }

            // Obtener pron√≥stico
            let forecastData = null;
            if (forecastUrl) {
                try {
                    console.log('Obteniendo pron√≥stico...');
                    const forecastResponse = await fetch(forecastUrl, {
                        method: 'GET',
                        signal: controller.signal,
                        cache: 'no-cache'
                    });
                    
                    if (forecastResponse.ok) {
                        forecastData = await forecastResponse.json();
                        console.log('Datos de pron√≥stico recibidos:', forecastData);
                    }
                } catch (forecastError) {
                    console.warn('Error al obtener pron√≥stico:', forecastError.message);
                }
            }

            clearTimeout(timeoutId);
            displayWeatherData(weatherData, uvIndex, forecastData);

        } catch (error) {
            console.error('Error al obtener datos meteorol√≥gicos:', error.message);
            showError(error.message);
        }
    }

    // Funci√≥n para procesar datos cuando ya los tenemos
    async function fetchWeatherDataWithData(weatherData, uvUrl = null, forecastUrl = null) {
        try {
            updateCurrentTime();

            console.log('Procesando datos meteorol√≥gicos:', weatherData);

            if (!weatherData.main || !weatherData.weather || !weatherData.weather[0]) {
                throw new Error('Datos meteorol√≥gicos incompletos');
            }

            // Obtener datos UV
            let uvIndex = 'N/A';
            if (uvUrl) {
                try {
                    console.log('Obteniendo datos UV...');
                    const controller = new AbortController();
                    const timeoutId = setTimeout(() => controller.abort(), 10000);
                    
                    const uvResponse = await fetch(uvUrl, {
                        method: 'GET',
                        signal: controller.signal,
                        cache: 'no-cache'
                    });
                    
                    clearTimeout(timeoutId);
                    
                    if (uvResponse.ok) {
                        const uvData = await uvResponse.json();
                        uvIndex = Math.round(uvData.value || 0);
                        console.log('Datos UV recibidos:', uvData);
                    }
                } catch (uvError) {
                    console.warn('Error al obtener UV:', uvError.message);
                }
            }

            // Obtener pron√≥stico
            let forecastData = null;
            if (forecastUrl) {
                try {
                    console.log('Obteniendo pron√≥stico...');
                    const controller = new AbortController();
                    const timeoutId = setTimeout(() => controller.abort(), 10000);
                    
                    const forecastResponse = await fetch(forecastUrl, {
                        method: 'GET',
                        signal: controller.signal,
                        cache: 'no-cache'
                    });
                    
                    clearTimeout(timeoutId);
                    
                    if (forecastResponse.ok) {
                        forecastData = await forecastResponse.json();
                        console.log('Datos de pron√≥stico recibidos:', forecastData);
                    }
                } catch (forecastError) {
                    console.warn('Error al obtener pron√≥stico:', forecastError.message);
                }
            }

            displayWeatherData(weatherData, uvIndex, forecastData);

        } catch (error) {
            console.error('Error al procesar datos meteorol√≥gicos:', error.message);
            showError(error.message);
        }
    }

    // Funci√≥n para mostrar errores
    function showError(message) {
        document.getElementById('weatherContainer').classList.add('error');
        document.getElementById('temperature').textContent = 'Error';
        document.getElementById('feelsLike').textContent = 'No disponible';
        document.getElementById('condition').textContent = `Error: ${message}`;
        document.getElementById('humidity').textContent = 'N/A';
        document.getElementById('windSpeed').textContent = 'N/A';
        document.getElementById('pressure').textContent = 'N/A';
        document.getElementById('visibility').textContent = 'N/A';
        document.getElementById('uvIndex').textContent = 'N/A';
        document.getElementById('dewPoint').textContent = 'N/A';
        document.getElementById('cloudiness').textContent = 'N/A';
        document.getElementById('windGust').textContent = 'N/A';
        document.getElementById('sunrise').textContent = '--:--';
        document.getElementById('sunset').textContent = '--:--';
        document.getElementById('weatherIcon').textContent = '‚ö†Ô∏è';
    }

    // Inicializar cuando se carga la p√°gina
    window.addEventListener('load', () => {
        console.log('=== Inicializando widget meteorol√≥gico ===');
        
        try {
            // Verificar elementos
            const requiredElements = [
                'locationName', 'currentTime', 'temperature', 'feelsLike', 
                'condition', 'weatherIcon', 'humidity', 'windSpeed', 
                'pressure', 'visibility', 'uvIndex', 'dewPoint', 
                'cloudiness', 'windGust', 'sunrise', 'sunset', 'forecastContainer'
            ];
            
            const missing = requiredElements.filter(id => !document.getElementById(id));
            if (missing.length > 0) {
                console.error('Elementos faltantes:', missing);
                showError('Error en la estructura de la p√°gina');
                return;
            }
            
            // Actualizar tiempo actual
            updateCurrentTime();
            setInterval(updateCurrentTime, 60000);
            
            // Obtener ubicaci√≥n autom√°ticamente
            console.log('Intentando geolocalizaci√≥n autom√°tica...');
            getCurrentLocation();
            
            // Actualizar datos cada 10 minutos
            setInterval(() => {
                console.log('Actualizando datos meteorol√≥gicos...');
                if (currentLocation.lat && currentLocation.lon) {
                    getWeatherByCoords(currentLocation.lat, currentLocation.lon);
                } else {
                    getWeatherByCity(currentLocation.name || 'Matar√≥');
                }
            }, 600000);
            
            console.log('Inicializaci√≥n completada');
            
        } catch (error) {
            console.error('Error durante la inicializaci√≥n:', error);
            showError('Error al inicializar la aplicaci√≥n');
        }
    });

    // Debug tools
    window.debugWeather = {
        getCurrentLocation,
        searchCity,
        getWeatherByCity,
        getWeatherByCoords,
        currentLocation
    };
</script>

<!-- Secciones Educativas meskeIA -->
    <style>
        .meskeia-edu-section {
            width: 100%;
            max-width: 800px;
            margin: 2rem auto;
            padding: 2rem;
            background: #FFFFFF;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(46, 134, 171, 0.1);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            box-sizing: border-box;
        }
        .meskeia-edu-section h2 {
            color: #2E86AB;
            font-size: 1.5rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid #48A9A6;
            padding-bottom: 0.5rem;
        }
        .meskeia-edu-section p {
            color: #1A1A1A;
            margin-bottom: 1rem;
            font-size: 1rem;
        }
        .meskeia-edu-section ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .meskeia-edu-section li {
            padding: 0.75rem 0;
            padding-left: 1.5rem;
            position: relative;
            color: #1A1A1A;
        }
        .meskeia-edu-section li:before {
            content: "‚Üí";
            color: #48A9A6;
            position: absolute;
            left: 0;
            font-weight: bold;
        }
        .meskeia-edu-section strong {
            color: #2E86AB;
        }
        @media (max-width: 768px) {
            .meskeia-edu-section {
                margin: 1.5rem 0;
                padding: 1.5rem;
                width: 100%;
            }
            .meskeia-edu-section h2 {
                font-size: 1.25rem;
            }
        }
    </style>

    <div class="meskeia-edu-section">
        <h2>¬øC√≥mo funciona esta informacion tiempo?</h2>
        <p>Herramienta especializada en informacion tiempo. Proporciona c√°lculos y an√°lisis precisos para facilitar tu trabajo.</p>
        <ul>
            <li><strong>Funci√≥n principal</strong>: Realiza c√°lculos especializados de forma r√°pida</li>
            <li><strong>Interfaz intuitiva</strong>: Dise√±o simple y f√°cil de usar sin curva de aprendizaje</li>
            <li><strong>Resultados instant√°neos</strong>: Obt√©n respuestas al momento sin esperas</li>
            <li><strong>100% gratuito</strong>: Sin registro, sin l√≠mites, sin costos ocultos</li>
        </ul>
    </div>

    <div class="meskeia-edu-section">
        <h2>Casos de uso pr√°cticos</h2>
        <ul>
            <li><strong>Uso profesional</strong>: Aplica en tu trabajo diario para ahorrar tiempo</li>
            <li><strong>Estudios</strong>: Ayuda en tareas acad√©micas y proyectos</li>
            <li><strong>Vida cotidiana</strong>: Resuelve situaciones comunes del d√≠a a d√≠a</li>
            <li><strong>Toma de decisiones</strong>: Obt√©n datos precisos para decidir mejor</li>
        </ul>
    </div>

    <!-- Footer meskeIA -->
<footer style="position: fixed; bottom: 10px; right: 20px; color: #2d3748; font-size: 0.9rem; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: rgba(255, 255, 255, 0.9); padding: 5px 10px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
    ¬© 2025 meskeIA
</footer>

</body>
</html>